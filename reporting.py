# -*- coding: utf-8 -*-
"""
ØªÙˆÙ„ÙŠØ¯ ÙˆØªØµØ¯ÙŠØ± Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±
"""

from datetime import datetime

def display_report(results):
    """Ø¹Ø±Ø¶ ØªÙ‚Ø±ÙŠØ± Ù…ÙØµÙ„"""
    print(f"\nðŸ“Š **Analysis Results:**")
    print(f"   Length: {results['length']} characters")
    print(f"   Entropy: {results['entropy']} bits")
    print(f"   Score: {results['score']}/10")
    print(f"   Strength Level: {results['strength']}")
    
    if results['leet_detected']:
        print(f"   âš ï¸  Leet substitutions detected")
    
    if results['issues']:
        print(f"\nðŸ”´ **Detected Issues:**")
        for issue in results['issues']:
            print(f"   â€¢ {issue}")
    
    if results['recommendations']:
        print(f"\nâœ… **Recommendations:**")
        for rec in results['recommendations']:
            print(f"   â€¢ {rec}")
    
    print(f"\n{'='*50}")

def display_summary(all_results):
    """Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ø¹Ø§Ù…"""
    print(f"\n{'#'*60}")
    print(f"{'General Report Summary':^60}")
    print(f"{'#'*60}")
    
    total_passwords = len(all_results)
    strong_passwords = sum(1 for r in all_results if r['score'] >= 5)
    weak_passwords = sum(1 for r in all_results if r['score'] < 3)
    
    print(f"\nðŸ“ˆ **Statistics:**")
    print(f"   â€¢ Total Passwords: {total_passwords}")
    print(f"   â€¢ Strong Passwords: {strong_passwords}")
    print(f"   â€¢ Weak Passwords: {weak_passwords}")
    
    print(f"\nðŸ“‹ **Passwords by Strength:**")
    for result in all_results:
        strength_color = "ðŸŸ¢" if result['score'] >= 5 else "ðŸŸ¡" if result['score'] >= 3 else "ðŸ”´"
        print(f"   {strength_color} {result['password']:20} â†’ {result['strength']} ({result['score']}/10)")
    
    print(f"\nðŸ’¡ **General Tips:**")
    print("   1. Use at least 12 characters")
    print("   2. Mix uppercase, lowercase, numbers, and symbols")
    print("   3. Avoid common words and predictable sequences")
    print("   4. Don't rely solely on leet substitutions")

def save_to_file(all_results):
    """Ø­ÙØ¸ Ø§Ù„ØªÙ‚Ø±ÙŠØ± ÙÙŠ Ù…Ù„Ù"""
    with open('password_report.txt', 'w', encoding='utf-8') as f:
        f.write("="*60 + "\n")
        f.write("Password Strength Analysis Report\n")
        f.write("="*60 + "\n\n")
        f.write(f"Report Date: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}\n\n")
        
        for i, result in enumerate(all_results, 1):
            f.write(f"\nPassword #{i}: {result['password']}\n")
            f.write(f"-" * 40 + "\n")
            f.write(f"Length: {result['length']} characters\n")
            f.write(f"Entropy: {result['entropy']} bits\n")
            f.write(f"Score: {result['score']}/10\n")
            f.write(f"Strength Level: {result['strength']}\n")
            
            if result['issues']:
                f.write(f"\nIssues:\n")
                for issue in result['issues']:
                    f.write(f"  â€¢ {issue}\n")
            
            if result['recommendations']:
                f.write(f"\nRecommendations:\n")
                for rec in result['recommendations']:
                    f.write(f"  â€¢ {rec}\n")
            
            f.write("\n" + "="*40 + "\n")
        
        # Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        strong = sum(1 for r in all_results if r['score'] >= 5)
        weak = sum(1 for r in all_results if r['score'] < 3)
        
        f.write(f"\n\nðŸ“Š Statistics Summary:\n")
        f.write(f"   â€¢ Total Passwords: {len(all_results)}\n")
        f.write(f"   â€¢ Strong Passwords: {strong}\n")
        f.write(f"   â€¢ Weak Passwords: {weak}\n")
        f.write(f"\nReport generated by Password Strength Analyzer\n")
